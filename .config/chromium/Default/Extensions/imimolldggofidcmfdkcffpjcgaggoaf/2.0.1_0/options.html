<!DOCTYPE html>
<html>
  <head>
    <title>VerticalTabs Options</title>
    <style>
      body {
        margin: 0px;
        padding: 0px;
        font: 12px "Lucida Grande", verdana, sans-serif;
        color: #333;
        -webkit-user-select: none;
        line-height: 1.5;
        text-shadow: 0px 1px 0px rgb(255, 255, 255);
      }
      h1 {
        margin: 0 0 20px;
        padding: 10px 20px;
        font-size: 16px;
        text-align: center;
        -webkit-border-radius: 10px;
        -webkit-border-bottom-left-radius: 0px;
        -webkit-border-bottom-right-radius: 0px;
        background: -webkit-gradient(linear, left top, left bottom,
                                     color-stop(0.0, #f2f2f2),
                                     color-stop(1.0, #fff));
      }
      #options {
        position: relative;
        width: 400px;
        margin: 40px auto;
        padding: 0 0 20px;
        background: -webkit-gradient(linear, left top, left bottom,
                                     color-stop(0.0, #eee),
                                     color-stop(1.0, #fff));
        border: 1px solid #e9e9e9;
        -webkit-border-radius: 10px;
        text-shadow: 0px 1px 0px rgb(255, 255, 255);
        -webkit-box-shadow: 0px 4px 10px rgba(0,0,0,.15);
      }
      #status {
        position: absolute;
        padding: 3px 5px;
        
        background-color: #123272;
        color: #fff;
        text-shadow: 0px -1px 0px rgba(0, 0, 0, .5);
        -webkit-border-radius: 4px;
        -webkit-border-top-left-radius: 0px;
        -webkit-border-top-right-radius: 0px;
        
        opacity: 0;
        top: -65px;
        right: 20px;

        -webkit-transition-property: opacity, top;
        -webkit-transition-duration: .8s, .8s;
        -webkit-transition-timing-function: ease-in;
      }
      #status.show {
        opacity: 1.0;
        top: -41px;
        
        -webkit-transition-property: opacity, top;
        -webkit-transition-duration: .4s, .4s;
        -webkit-transition-timing-function: ease-out;
      }
      p {
        margin: 0 0 1em;
        padding: 0;
      }
      label {
        width: 160px;
        text-align: right;
        display: inline-block;
      }
      meter {
        font-weight: bold;
      }
      #keys {
        position: relative;
        width: 396px;
        margin: 20px auto;
        padding: 10px 0px;
        line-height: 1.9;
        border: 3px solid #ddd;
        -webkit-border-radius: 10px;
        text-shadow: 0px 1px 0px rgb(255, 255, 255);
/*        -webkit-box-shadow: 0px 4px 10px rgba(0,0,0,.15);*/
      }
      h2 {
        margin: 0 0 10px;
        padding: 0;
        font-size: 14px;
        text-align: center;
      }
      ul{
        margin: 0;
        padding: 0px 0px;
        list-style: none;
      }
      li{
        margin: 0;
        padding: 0px 10px 1px;
        list-style: none;
        background: -webkit-gradient(linear, left top, left bottom,
                                             color-stop(0.0, #eee),
                                             color-stop(1.0, #fff));
      }
      li:nth-child(odd){
        background: -webkit-gradient(linear, left top, left bottom,
                                             color-stop(0.0, #ddd),
                                             color-stop(1.0, #ccc));
      }
      kbd {
        padding: 2px 4px;
        font-size: 12px;
        font-weight: bold;
        border: 1px solid #e9e9e9;
        -webkit-border-radius: 3px;
        background: -webkit-gradient(linear, left top, left bottom,
                                             color-stop(0.0, #fff),
                                             color-stop(1.0, #eee));
        -webkit-box-shadow: 0px 1px 1px rgba(0,0,0,.15);
      }
      #keys span {
        font-size: 10px;
      }
      #footer,
      #donation {
        margin: 0 0 1em;
        padding: 0;
        text-align: center;
      }
      #footer p,
      #donation p {
        margin: 0;
        padding: 0;
      }
    </style>
    <script>
      window.addEventListener('load', init, false);

      function init() {
        var counter = option('counter');
        var counterSelect = document.getElementById('counter');

        for (var i = 0; i < counterSelect.children.length; i++) {
          var child = counterSelect.children[i];
          if (child.value == counter) {
            child.selected = 'true';
            break;
          }
        }
        counterSelect.addEventListener('change', function(event) {
          var value = counterSelect.children[counterSelect.selectedIndex].value;
          setOption('counter', value);
          save(counterSelect);
          chrome.self.getBackgroundPage().initCounter();
        }, false);
        
        
        var width = document.getElementById('width');
        var widthValue = document.getElementById('width-value');
        width.value = widthValue.textContent = option('width');
        
        width.addEventListener('change', function(event) {
          widthValue.textContent = event.target.value;
          width.addEventListener('mouseup', function(event) {
            setOption('width', event.target.value);
            save(width);
          }, false);
        }, false);
        
        var lines = document.getElementById('lines');
        var linesValue = document.getElementById('lines-value');
        lines.value = linesValue.textContent = option('lines');
        
        lines.addEventListener('change', function(event) {
          linesValue.textContent = event.target.value;
          lines.addEventListener('mouseup', function(event) {
            setOption('lines', event.target.value);
            save(lines);
          }, false);
        }, false);
      }
      function option(key) {
        return localStorage[key];
      }
      function setOption(key, value) {
        localStorage[key] = value;
      }

      function save() {
        var status = document.getElementById('status');
        status.className = 'show';
        setTimeout(function() {
          status.className = '';
        }, 750);
      }
    </script>
  </head>
  <body>
    <div id="options">
      <h1>VerticalTabs Options</h1>
      <div id="status">Options Saved.</div>
      <div>
        <p>
          <label for="width">Popup width size:</label>
          <input type="range" min="100" max="800" step="10" value="" id="width">
          <meter id="width-value"></meter>px
        </p>
        <p>
          <label for="lines">Title line size:</label>
          <input type="range" min="1" max="10" step="1" value="" id="lines">
          <meter id="lines-value"></meter> lines
        </p>
        <label for="counter">Tab counter:</label>
        <select id="counter">
         <option value="on">ON</option>
         <option value="off">OFF</option>
        </select>
      </div>
    </div>

    <div id="keys">
      <h2>Keyboard shortcuts</h2>
      <ul>
        <li>Switch tab: <kbd>Enter</kbd> or <kbd>Return</kbd></li>
        <li>Select next tab: <kbd>Down</kbd> or <kbd>Ctrl-J</kbd> or <kbd>Ctrl-N</kbd><span> (Mac/Linux)</span></li>
        <li>Select previous tab: <kbd>Up</kbd> or <kbd>Ctrl-K</kbd> or <kbd>Ctrl-P</kbd><span> (Mac/Linux)</span></li>
        <li>Remove tab: <kbd>Ctrl-D</kbd></li>
        <li>Close popup: <kbd>Esc</kbd></li>
      </ul>
    </div>

    <div id="footer">
      <p><a href="https://chrome.google.com/extensions/detail/imimolldggofidcmfdkcffpjcgaggoaf" target="_blank">Google Chrome Extensions: VerticalTabs</a></p>
      <p>Author: Norio Shimizu (<a href="http://twitter.com/norio" title="twitter" target="_blank">@norio</a>)</p>
    </div>

    <div id="donation">
      <p>
        <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&amp;business=toykyo.net@gmail.com&amp;item_name=VerticalTabs%20Donation" target="_blank">
          <img src="donate.png" title="PayPal Donation" />
        </a>
      </p>
      <p>We need your support!</p>
    </div>
  </body>
</html>
