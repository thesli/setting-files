function clickIE6(){if(event.button==2)return!1}function clickNS4(a){if(document.layers||document.getElementById&&!document.all)if(a.which==2||a.which==3)return!1}if(document.layers)document.captureEvents(Event.MOUSEDOWN),document.onmousedown=clickNS4;else if(document.all&&!document.getElementById)document.onmousedown=clickIE6;document.oncontextmenu=new Function("return false");var out="ctrl + shift + ",code=69;
function toggleMode(a){if(window.localStorage==null)alert("Local storage is required to change options");else if(a=a.value,a=="newTab")window.localStorage.mode=1,chrome.browserAction.setPopup({popup:""});else if(a=="popUp")window.localStorage.mode=2,chrome.browserAction.setPopup({popup:"popup.html"})}
function toggleTheme(a){if(window.localStorage==null)alert("Local storage is required to change options");else if(a=a.value,a=="windows")window.localStorage.theme=1;else if(a=="mac")window.localStorage.theme=2}
function toggleCount(a){if(window.localStorage==null)alert("Local storage is required to change options");else if(a=a.value,a=="tabCount")window.localStorage.hasCount=1,chrome.extension.getBackgroundPage().countTabs();else if(a=="noTabCount")window.localStorage.hasCount=2,chrome.browserAction.setBadgeText({text:""})}
function main(){var a=document.getElementById("hotkey");a.addEventListener("keydown",keyDown,!1);if(localStorage.hotkey){var b=localStorage.hotkey;default_value=b.substr(b.lastIndexOf("+"))+CharCode(b.substr(b.lastIndexOf("+")+2))}else default_value=out+CharCode(code);a.value=default_value;if(window.localStorage==null)alert("LocalStorage must be enabled for changing options."),document.getElementById("default").disabled=!0,document.getElementById("popUp").disabled=!0;else{if(window.localStorage.mode!=
1&&window.localStorage.mode!=2)window.localStorage.mode=2,chrome.browserAction.setPopup({popup:"popup.html"});if(window.localStorage.mode==1)chrome.browserAction.setPopup({popup:""}),document.getElementById("default").checked=!0;if(window.localStorage.mode==2)chrome.browserAction.setPopup({popup:"popup.html"}),document.getElementById("popUp").checked=!0;if(window.localStorage.theme!=1&&window.localStorage.theme!=2)window.localStorage.theme=2;if(window.localStorage.theme==1)document.getElementById("windows").checked=
!0;if(window.localStorage.theme==2)document.getElementById("mac").checked=!0;if(window.localStorage.hasCount!=1&&window.localStorage.hasCount!=2)window.localStorage.hasCount=1;if(window.localStorage.hasCount==1)document.getElementById("tabCount").checked=!0,chrome.extension.getBackgroundPage().countTabs();if(window.localStorage.hasCount==2)document.getElementById("noTabCount").checked=!0,chrome.browserAction.setBadgeText({text:""})}}
function keyDown(a){out="";a.ctrlKey&&(out+="ctrl + ");a.shiftKey&&(out+="shift + ");a.altKey&&(out+="alt + ");a.metaKey&&(out+="meta + ");code=a.keyCode;code=code==16||code==17||code==18?null:code;a.target.value=out+CharCode(code);a.preventDefault();return!1}function save(a){var b=document.getElementById("hotkey").nextSibling;code?out==""?toggle(b," Press a Modifier key"):(b=out+code,console.log(b),localStorage.hotkey=b,toggle(a.nextSibling,"Hotkey Saved")):toggle(b," Press a key")}
function toggle(a,b){a.style.display="inline";a.innerText=b;setTimeout(function(){a.style.display="none"},1500)}function CharCode(a){return String.fromCharCode(a).toLowerCase()}var _m=chrome.i18n.getMessage,__m=function(){document.write(_m.apply(this,arguments))};