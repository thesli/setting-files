function input_int(e){return!isNaN(e)&&parseInt(e,10)==e}function loadOptions(){var e=20,t=5,n=1,r="";if(localStorage.limit){e=localStorage.limit}if(localStorage.interval){t=localStorage.interval}if(localStorage.autoplay){n=localStorage.autoplay}if(localStorage.desknote){desknote=localStorage.desknote}$("#limit").val(e);$("#interval").val(t);if(n==1||!n){$("#autoplay").attr("checked",true)}if(desknote==1||!desknote){$("#desknote").attr("checked",true)}}function saveOptions(){var e="Error:";var t=$("#limit").val();var n=$("#interval").val();if(input_int(t)){if(parseInt(t,10)>50||parseInt(t,10)<1){e=e+" invalid track limit,"}else{localStorage.limit=t}}else{e=e+" invalid track limit,"}if(input_int(n)){if(parseInt(n,10)<1){e=e+" invalid new track check time,"}else{localStorage.interval=n}}else{e=e+" invalid new track check time,"}if($("#autoplay").attr("checked")){localStorage.autoplay=1}else{localStorage.autoplay=0}if($("#desknote").attr("checked")){localStorage.desknote=1}else{localStorage.desknote=0}if(e==="Error:"){chrome.extension.sendRequest({requestlist:"update;"+t+";"+n});$("#message").html('<div id="saved">Options saved.</div>')}else{$("#message").html('<div id="errors">'+e.substring(0,e.length-1)+".</div>")}}var i=0;$(function(){loadOptions();$("#save").click(function(){saveOptions()})})