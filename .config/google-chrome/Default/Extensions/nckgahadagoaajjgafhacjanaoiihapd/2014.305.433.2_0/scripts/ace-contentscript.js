(function(){var k=this,l=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b},m=function(a){return"string"==typeof a},aa=function(a,b,c){return a.call.apply(a.bind,arguments)},ba=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},n=function(a,b,c){n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?
aa:ba;return n.apply(null,arguments)},p=function(a,b){function c(){}c.prototype=b.prototype;a.n=b.prototype;a.prototype=new c;a.M=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return n.apply(null,c)}return n(this,a)};var q=function(a){q[" "](a);return a};q[" "]=function(){};var ca=function(a,b){for(var c=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(b).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;0==c&&g<f;g++){var h=d[g]||"",Ha=e[g]||"",Ia=RegExp("(\\d*)(\\D*)","g"),Ja=RegExp("(\\d*)(\\D*)","g");do{var y=Ia.exec(h)||["","",""],z=Ja.exec(Ha)||["","",""];if(0==y[0].length&&0==z[0].length)break;c=r(0==y[1].length?0:parseInt(y[1],10),0==z[1].length?0:parseInt(z[1],10))||r(0==y[2].length,0==z[2].length)||r(y[2],
z[2])}while(0==c)}return c},r=function(a,b){return a<b?-1:a>b?1:0};var s=function(){};s.prototype.G=!1;s.prototype.u=function(){this.G||(this.G=!0,this.c())};s.prototype.c=function(){if(this.H)for(;this.H.length;)this.H.shift()()};var da="closure_listenable_"+(1E6*Math.random()|0),ea=function(a){try{return!(!a||!a[da])}catch(b){return!1}},fa=0;var t,u,v,w,x=function(){return k.navigator?k.navigator.userAgent:null};w=v=u=t=!1;var A;if(A=x()){var ga=k.navigator;t=0==A.lastIndexOf("Opera",0);u=!t&&(-1!=A.indexOf("MSIE")||-1!=A.indexOf("Trident"));v=!t&&-1!=A.indexOf("WebKit");w=!t&&!v&&!u&&"Gecko"==ga.product}var B=t,C=u,D=w,E=v,ha=function(){var a=k.document;return a?a.documentMode:void 0},F;
t:{var G="",H;if(B&&k.opera)var I=k.opera.version,G="function"==typeof I?I():I;else if(D?H=/rv\:([^\);]+)(\)|;)/:C?H=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:E&&(H=/WebKit\/(\S+)/),H)var ia=H.exec(x()),G=ia?ia[1]:"";if(C){var ja=ha();if(ja>parseFloat(G)){F=String(ja);break t}}F=G}var J=F,ka={},K=function(a){return ka[a]||(ka[a]=0<=ca(J,a))},la=k.document,ma=la&&C?ha()||("CSS1Compat"==la.compatMode?parseInt(J,10):5):void 0;var L=Array.prototype,na=L.indexOf?function(a,b,c){return L.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(m(a))return m(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};!D&&!C||C&&C&&9<=ma||D&&K("1.9.1");C&&K("9");var oa=!C||C&&9<=ma,pa=C&&!K("9");!E||K("528");D&&K("1.9b")||C&&K("8")||B&&K("9.5")||E&&K("528");D&&!K("8")||C&&K("9");var M=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.I=!1};M.prototype.c=function(){};M.prototype.u=function(){};M.prototype.preventDefault=function(){this.defaultPrevented=!0};var qa=function(a,b,c,d,e){this.e=a;this.proxy=null;this.src=b;this.type=c;this.g=!!d;this.h=e;this.key=++fa;this.removed=this.k=!1},N=function(a){a.removed=!0;a.e=null;a.proxy=null;a.src=null;a.h=null};var O=function(a,b){M.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.q=this.state=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(D){var e;t:{try{q(d.nodeName);e=!0;break t}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=E||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=E||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.state=a.state;this.q=a;a.defaultPrevented&&this.preventDefault()}};p(O,M);O.prototype.preventDefault=function(){O.n.preventDefault.call(this);var a=this.q;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,pa)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};O.prototype.c=function(){};var P=function(a){this.src=a;this.a={};this.f=0};P.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.f++);var g;t:{for(g=0;g<a.length;++g){var h=a[g];if(!h.removed&&h.e==b&&h.g==!!d&&h.h==e)break t}g=-1}-1<g?(b=a[g],c||(b.k=!1)):(b=new qa(b,this.src,f,!!d,e),b.k=c,a.push(b));return b};var ra=function(a,b){var c=b.type;if(!(c in a.a))return!1;var d=a.a[c],e=na(d,b),f;(f=0<=e)&&L.splice.call(d,e,1);f&&(N(b),0==a.a[c].length&&(delete a.a[c],a.f--));return f};
P.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.a)if(!a||c==a){for(var d=this.a[c],e=0;e<d.length;e++)++b,N(d[e]);delete this.a[c];this.f--}return b};var Q="closure_lm_"+(1E6*Math.random()|0),R={},sa=0,S=function(a,b,c,d,e){if("array"==l(b)){for(var f=0;f<b.length;f++)S(a,b[f],c,d,e);return null}c=ta(c);if(ea(a))a=a.listen(b,c,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,g=ua(a);g||(a[Q]=g=new P(a));c=g.add(b,c,!1,d,e);c.proxy||(d=va(),c.proxy=d,d.src=a,d.e=c,a.addEventListener?a.addEventListener(b.toString(),d,f):a.attachEvent(wa(b.toString()),d),sa++);a=c}return a},va=function(){var a=xa,b=oa?function(c){return a.call(b.src,b.e,
c)}:function(c){c=a.call(b.src,b.e,c);if(!c)return c};return b},ya=function(a){if("number"==typeof a||!a||a.removed)return!1;var b=a.src;if(ea(b))return ra(b.L,a);var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.g):b.detachEvent&&b.detachEvent(wa(c),d);sa--;(c=ua(b))?(ra(c,a),0==c.f&&(c.src=null,b[Q]=null)):N(a);return!0},wa=function(a){return a in R?R[a]:R[a]="on"+a},Aa=function(a,b,c,d){var e=1;if(a=ua(a))if(b=a.a[b.toString()]){a=b.length;if(0<a){for(var f=Array(a),g=0;g<
a;g++)f[g]=b[g];b=f}else b=[];for(a=0;a<b.length;a++)(f=b[a])&&f.g==c&&!f.removed&&(e&=!1!==za(f,d))}return Boolean(e)},za=function(a,b){var c=a.e,d=a.h||a.src;a.k&&ya(a);return c.call(d,b)},xa=function(a,b){if(a.removed)return!0;if(!oa){var c;if(!(c=b))t:{c=["window","event"];for(var d=k,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break t}c=d}e=c;c=new O(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){t:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break t}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=
!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.I&&0<=h;h--)c.currentTarget=e[h],d&=Aa(e[h],f,!0,c);for(h=0;!c.I&&h<e.length;h++)c.currentTarget=e[h],d&=Aa(e[h],f,!1,c)}return d}return za(a,new O(b,this))},ua=function(a){a=a[Q];return a instanceof P?a:null},Ba="__closure_events_fn_"+(1E9*Math.random()>>>0),ta=function(a){return"function"==l(a)?a:a[Ba]||(a[Ba]=function(b){return a.handleEvent(b)})};var Ca=function(a){var b=document;return m(a)?b.getElementById(a):a};var T=function(a){this.K=a;this.t={}};p(T,s);var Da=[];T.prototype.listen=function(a,b,c,d){"array"!=l(b)&&(Da[0]=b,b=Da);for(var e=0;e<b.length;e++){var f=S(a,b[e],c||this.handleEvent,d||!1,this.K||this);if(!f)break;this.t[f.key]=f}return this};T.prototype.removeAll=function(){var a=this.t,b;for(b in a)ya.call(void 0,a[b]);this.t={}};T.prototype.c=function(){T.n.c.call(this);this.removeAll()};T.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var U=function(a){T.call(this);this.p=a;this.l=n(this.J,this);Ea(this,"centralJidListener");this.listen(this.p,"centralJidSet getCentralJid mmm ocbek ocfp showChat".split(" "),this);chrome.runtime.sendMessage({msg:"onContentPageLoaded"})},Fa;p(U,T);U.prototype.c=function(){U.n.c.call(this);Ga(this);delete this.l;delete this.p};var La=function(){var a=Ca("roster_comm_link")||Ca("mainElement");a&&(Fa=new U(a),S(window,"unload",Ka))},Ka=function(){var a=Fa;a&&"function"==typeof a.u&&a.u();Fa=null};
U.prototype.handleEvent=function(a){var b=a.q;a=b.type;switch(a){case "getCentralJid":case "ocbek":case "ocfp":case "showChat":this.b&&"centralJidListener"==this.b.name&&(b=m(b.data)?{jid:b.data}:b.data,b.msg=a,chrome.runtime.sendMessage(b));break;case "mmm":b=m(b.data.jid)?JSON.parse(b.data.jid):[];chrome.runtime.sendMessage({msg:a,params:b});break;case "centralJidSet":Ea(this,"centralJidBroadcaster"),this.b.postMessage({jid:b.data})}};
U.prototype.J=function(a){var b=a.eventType;delete a.eventType;a=void 0!==a.ttl?a:a.jid;var c=document.createEvent("MessageEvent");c.initMessageEvent(b,!0,!0,a);this.p.dispatchEvent(c)};var Ea=function(a,b){Ga(a);a.b=chrome.runtime.connect({name:b});a.b.onMessage.addListener(a.l)},Ga=function(a){a.b&&(a.b.onMessage.removeListener(a.l),a.b.disconnect(),delete a.b)};"complete"===document.readyState||"interactive"===document.readyState?La():S(window,"DOMContentLoaded",La);var V=function(a,b){this.F=a||"e";this.C=null!=a&&"p"==a?"e":"p";this.D=this.j=null;this.A=b||"u";this.v=this.B=null;this.w=[]};V.prototype.message=function(){var a={};a.i=this.v;a.m=this.w;a.r=this.A;a.o=this.B;a.s=this.D;a.st=this.C;a.d=this.j;a.dt=this.F;return a};var Ma=V.prototype.message,W=["ace","base","Message","prototype","message"],X=k;W[0]in X||!X.execScript||X.execScript("var "+W[0]);for(var Y;W.length&&(Y=W.shift());)W.length||void 0===Ma?X=X[Y]?X[Y]:X[Y]={}:X[Y]=Ma;
V.prototype.parse=function(a){for(var b in a)switch(b){case "r":this.A=a[b];break;case "i":this.v=a[b];break;case "m":this.w=a[b];break;case "o":this.B=a[b];break;case "s":this.D=a[b];break;case "d":this.j=a[b];break;case "st":this.C=a[b];break;case "dt":this.F=a[b]}return this};V.prototype.target=function(){return this.j};var Na,Oa,Pa,Qa,Ra,Sa,Ta;Ta=Sa=Ra=Qa=Pa=Oa=Na=!1;var Z=x();Z&&(-1!=Z.indexOf("Firefox")?Na=!0:-1!=Z.indexOf("Camino")?Oa=!0:-1!=Z.indexOf("iPhone")||-1!=Z.indexOf("iPod")?Pa=!0:-1!=Z.indexOf("iPad")?Qa=!0:-1!=Z.indexOf("Chrome")?Sa=!0:-1!=Z.indexOf("Android")?Ra=!0:-1!=Z.indexOf("Safari")&&(Ta=!0));var Ua=Na,Va=Oa,Wa=Pa,Xa=Qa,Ya=Ra,Za=Sa,$a=Ta;var $=function(a){return(a=a.exec(x()))?a[1]:""},ab=function(){if(Ua)return $(/Firefox\/([0-9.]+)/);if(C||B)return J;if(Za)return $(/Chrome\/([0-9.]+)/);if($a)return $(/Version\/([0-9.]+)/);if(Wa||Xa){var a;if(a=/Version\/(\S+).*Mobile\/(\S+)/.exec(x()))return a[1]+"."+a[2]}else{if(Ya)return(a=$(/Android\s+([0-9.]+)/))?a:$(/Version\/([0-9.]+)/);if(Va)return $(/Camino\/([0-9.]+)/)}return""}();ca(ab,"23.0.1262.0");})()
