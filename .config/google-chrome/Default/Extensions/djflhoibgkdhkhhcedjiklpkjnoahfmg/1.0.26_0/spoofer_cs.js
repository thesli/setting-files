chrome.extension.sendRequest({action:"blacklist",url:document.location.href},function(c){if(c.ua_string&&c.ua_string!=""){document.addEventListener("beforeload",function(b){var f=new function(){};var g;var a=window.navigator;for(g in navigator){if(typeof navigator[g]=="function"){f[g]=function(){return a[g]()}}else{f[g]=navigator[g]}}f.userAgent=(c.append_to_default_ua?navigator.userAgent+" "+c.ua_string:c.ua_string);f.vendor=c.vendor;if(c.platform){f.platform=c.platform}window.navigator=f},true);var d=document.createElement("script");d.type="text/javascript";d.innerText+="var new_nav = new function() {};";d.innerText+="var x;";d.innerText+="var old_navigator = window.navigator;";d.innerText+="for (x in navigator) {";d.innerText+="if (typeof navigator[x] == 'function') {";d.innerText+='eval("new_nav." + x + " = function() { return old_navigator." + x + "();};");';d.innerText+="} else {";d.innerText+='eval("new_nav." + x + " = navigator." + x + ";");';d.innerText+="}}";d.innerText+='new_nav.userAgent = "'+(c.append_to_default_ua?navigator.userAgent+" "+c.ua_string:c.ua_string)+'";';d.innerText+='new_nav.vendor = "'+c.vendor+'";';if(c.platform){d.innerText+='new_nav.platform = "'+c.platform+'";'}d.innerText+="window.navigator = new_nav;";document.documentElement.insertBefore(d)}});