var escapeVar=$("<i></i>");function escapeJQ(a){return escapeVar.text(a).html()}function getHost(a){return(a.match(/:\/\/(.[^/]+)/)[1]).replace("www.","")}function addBlockRule(c){var b=data.filters;for(var a=0;a<b.length;a++){var d=b[a];if((d.domain!=null)==(c.domain!=null)){if(d.domain!=c.domain){continue}}else{continue}if((d.name!=null)==(c.name!=null)){if(d.name!=c.name){continue}}else{continue}if((d.value!=null)==(c.value!=null)){if(d.value!=c.value){continue}}else{continue}return a}b[b.length]=c;data.filters=b;filterURL={};if(c.name!=undefined){filterURL.name=c.name}if(c.value!=undefined){filterURL.value=c.value}if(c.domain!=undefined){filterURL.domain=c.domain}chrome.cookies.getAll({},function(f){for(var e=0;e<f.length;e++){var g=f[e];if(filterMatchesCookie(filterURL,g.name,g.domain,g.value)){var h=(g.secure)?"https://":"http://"+g.domain+g.path;deleteCookie(h,g.name,g.storeId,g)}}})}function switchReadOnlyRule(g){var c=true;var d=data.readOnly;for(var a=0;a<d.length;a++){try{var b=d[a];if(b.domain==g.domain&&b.name==g.name&&b.path==g.path){c=false;d.splice(a,1)}}catch(f){console.error(f.message)}}if(c){d[d.length]=g}data.readOnly=d;return !!c}function deleteReadOnlyRule(a){readOnlyList=data.readOnly;readOnlyList.splice(a,1);data.readOnly=readOnlyList}function deleteBlockRule(a){filtersList=data.filters;filtersList.splice(a,1);data.filters=filtersList}Array.prototype.toTop=function(e){var f;if(e<=0||e>=this.length){return false}f=this[e];for(var d=e;d>0;d--){this[d]=this[d-1]}this[0]=f;return true};function _writeMessage(b,a){document.write(_getMessage(b,a))}function _getMessage(b,a){return(chrome.i18n.getMessage("editThis_"+b,a))}function filterMatchesCookie(e,a,d,c){var b=new RegExp(e.domain);if(e.domain!=undefined&&d.match(b)==null){return false}if(e.name!=undefined&&a!=e.name){return false}if(e.value!=undefined&&c!=e.value){return false}return true}function filterMatchesCookieOLD(n,j,i,l){var m=new RegExp(n.domain);if(n.domain!=null&&i.match(m)==null){return false}var k=new RegExp(n.name);if(n.name!=null&&j!=n){return false}var h=new RegExp(n.value);if(n.value!=null&&l.match(h)==null){return false}return true}function getUrlVars(){var g=[],h;var f=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(var e=0;e<f.length;e++){h=f[e].split("=");g.push(h[0]);g[h[0]]=h[1]}return g}function showPopup(e,b){var d=encodeURI(b.url);var a=encodeURI(b.id);var c=chrome.extension.getURL("popup.html")+"?url="+d+"&id="+a;chrome.tabs.query({windowId:chrome.windows.WINDOW_ID_CURRENT},function(g){for(var f=0;f<g.length;f++){var h=g[f];if(h.url.indexOf(c)==0){chrome.tabs.update(h.id,{selected:true});return}}chrome.tabs.create({url:c})})}function copyToClipboard(b){if(b==undefined){return}var c=$("body").scrollTop();var a=document.createElement("textarea");a.style.height="0.5px";document.body.appendChild(a,document.body.firstChild);$(a).text(b);a.focus();document.execCommand("SelectAll");document.execCommand("Copy",false,null);document.body.removeChild(a);$("body").scrollTop(c)}function getDomain(a){server=a.match(/:\/\/(.[^/:#?]+)/)[1];parts=server.split(".");domain=parts[parts.length-2]+"."+parts[parts.length-1];return domain};