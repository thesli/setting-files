var escapeVar=$("<i></i>");function escapeJQ(a){return escapeVar.text(a).html()}function getHost(a){return(a.match(/:\/\/(.[^/]+)/)[1]).replace("www.","")}function addBlockRule(c){var b=data.filters;for(var a=0;a<b.length;a++){var d=b[a];if((d.domain!=null)==(c.domain!=null)){if(d.domain!=c.domain){continue}}else{continue}if((d.name!=null)==(c.name!=null)){if(d.name!=c.name){continue}}else{continue}if((d.value!=null)==(c.value!=null)){if(d.value!=c.value){continue}}else{continue}return a}b[b.length]=c;data.filters=b;filterURL={};if(c.name!=undefined){filterURL.name=c.name}if(c.value!=undefined){filterURL.value=c.value}if(c.domain!=undefined){filterURL.domain=c.domain}chrome.cookies.getAll({},function(f){for(var e=0;e<f.length;e++){var g=f[e];if(filterMatchesCookie(filterURL,g.name,g.domain,g.value)){var h=(g.secure)?"https://":"http://"+g.domain+g.path;deleteCookie(h,g.name,g.storeId,g)}}})}function switchReadOnlyRule(g){var c=true;var d=data.readOnly;for(var a=0;a<d.length;a++){try{var b=d[a];if(b.domain==g.domain&&b.name==g.name&&b.path==g.path){c=false;d.splice(a,1)}}catch(f){console.error(f.message)}}if(c){d[d.length]=g}data.readOnly=d;return !!c}function deleteReadOnlyRule(a){readOnlyList=data.readOnly;readOnlyList.splice(a,1);data.readOnly=readOnlyList}function deleteBlockRule(a){filtersList=data.filters;filtersList.splice(a,1);data.filters=filtersList}Array.prototype.toTop=function(e){var f;if(e<=0||e>=this.length){return false}f=this[e];for(var d=e;d>0;d--){this[d]=this[d-1]}this[0]=f;return true};function _writeMessage(b,a){document.write(_getMessage(b,a))}function _getMessage(b,a){return(chrome.i18n.getMessage("editThis_"+b,a))}function filterMatchesCookie(e,a,d,c){var b=new RegExp(e.domain);if(e.domain!=undefined&&d.match(b)==null){return false}if(e.name!=undefined&&a!=e.name){return false}if(e.value!=undefined&&c!=e.value){return false}return true}function filterMatchesCookieOLD(n,j,i,l){var m=new RegExp(n.domain);if(n.domain!=null&&i.match(m)==null){return false}var k=new RegExp(n.name);if(n.name!=null&&j!=n){return false}var h=new RegExp(n.value);if(n.value!=null&&l.match(h)==null){return false}return true}function getUrlVars(){var g=[],h;var f=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(var e=0;e<f.length;e++){h=f[e].split("=");g.push(h[0]);g[h[0]]=h[1]}return g}function showPopup(f,c){var e=encodeURI(c.url);var a=encodeURI(c.id);var b=encodeURI(c.incognito);var d=chrome.extension.getURL("popup.html")+"?url="+e+"&id="+a+"&incognito="+b;chrome.tabs.query({windowId:chrome.windows.WINDOW_ID_CURRENT},function(h){for(var g=0;g<h.length;g++){var i=h[g];if(i.url.indexOf(d)==0){chrome.tabs.update(i.id,{selected:true});return}}chrome.tabs.create({url:d})})}function copyToClipboard(b){if(b==undefined){return}var c=$("body").scrollTop();var a=document.createElement("textarea");a.style.height="0.5px";document.body.appendChild(a,document.body.firstChild);$(a).text(b);a.focus();document.execCommand("SelectAll");document.execCommand("Copy",false,null);document.body.removeChild(a);$("body").scrollTop(c)}function getDomain(a){server=a.match(/:\/\/(.[^/:#?]+)/)[1];parts=server.split(".");domain=parts[parts.length-2]+"."+parts[parts.length-1];return domain}function isChristmasPeriod(){var c=new Date();var b=(c.getMonth()==10&&c.getDate()>=28);var a=(c.getMonth()==11);var e=(c.getMonth()==0&&c.getDate()<=8);var d=(b||a||e);return d}var canvasLoader;function setLoaderVisible(b){if(b){$("#loader-container").show()}else{$("#loader-container").hide()}return;if(b){if(canvasLoader==undefined){canvasLoader=new CanvasLoader("loader-container")}canvasLoader.setShape("square");canvasLoader.setDiameter(50);canvasLoader.setDensity(50);canvasLoader.setRange(1);canvasLoader.show();var c=document.getElementById("loader-container");var a=document.getElementById("canvasLoader");a.style.position="absolute";a.style.top=(c.offsetHeight/2)+canvasLoader.getDiameter()*-0.5+"px";a.style.left=(c.offsetWidth/2)+canvasLoader.getDiameter()*-0.5+"px"}else{if(canvasLoader!=undefined){canvasLoader.kill()}canvasLoader=undefined;$("#loader-container").hide()}};