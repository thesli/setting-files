define(["common/model/relatedVideoInformationManager"],function(e){"use strict";describe("RelatedVideoInformationManager",function(){it("Should be able to get a queue requests for related video information",function(){var t=[{videoId:"btDPtzCGNTE",success:function(){}},{videoId:"btDPtzCGNTE",success:function(){}},{videoId:"btDPtzCGNTE",success:function(){}},{videoId:"btDPtzCGNTE",success:function(){}},{videoId:"btDPtzCGNTE",success:function(){}},{videoId:"btDPtzCGNTE",success:function(){}},{videoId:"btDPtzCGNTE",success:function(){}},{videoId:"btDPtzCGNTE",success:function(){}},{videoId:"btDPtzCGNTE",success:function(){}},{videoId:"btDPtzCGNTE",success:function(){}}];runs(function(){_.each(t,function(t){e.getRelatedVideoInformation(t)})}),waitsFor(function(){return e.get("concurrentRequestCount")>0},"concurrentRequestCount should have been incremented",2e3),runs(function(){expect(e.get("requestQueue").length).toBeGreaterThan(0)})}),it("Should be able to get a video's related video information",function(){var t=null;runs(function(){e.getRelatedVideoInformation({videoId:"btDPtzCGNTE",success:function(e){t=e}})},500),waitsFor(function(){return null!==t},"RelatedVideoInformation should be set",2e3),runs(function(){_.map(t,function(e){return{id:e.media$group.yt$videoid.$t,title:e.title.$t}}),expect(t.length).toBeGreaterThan(0),expect(t.length).toBe(10)})})})});