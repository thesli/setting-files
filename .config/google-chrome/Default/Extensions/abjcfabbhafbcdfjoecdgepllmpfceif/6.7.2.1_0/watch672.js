// Extension for Chrome Browser - Magic Actions for YouTubeâ„¢ - CHROMEACTIONS.COM - Copyright 2014 Vlad and Serge Strukoff
chrome.runtime.sendMessage(32);var e_script=document.createElement("script"),uniqueEvtName=Math.random().toString(16).slice(2);
e_script.innerHTML='(function(){function ga(a){w=a.slice(17);var c=parseInt(a.charAt(0)),b=parseInt(a.slice(1,9),16);a=parseInt(a.slice(9,17),16);var g={};g.cin=b>>29&1;g.cina=b>>28&1;g.cini=b>>25&7;g.cinf=b>>24&1;g.cinc=b>>18&63;g.h0=b>>17&1;g.h1=b>>16&1;g.h2=b>>15&1;g.h3=b>>14&1;g.h4=b>>13&1;g.h5=b>>12&1;g.h6=b>>11&1;g.a0=b>>10&1;g.a1=b>>9&1;g.a2=b>>8&1;g.a3=b>>7&1;g.a4=b>>6&1;g.ui=b>>5&1;g.c0=b>>4&1;g.c1=b>>3&1;g.c2=b>>2&1;g.c3=b>>1&1;g.f0=b&1;g.wide=a>>28&1;g.align=a>>27&1;g.mwvc=a>>26&1;g.color="red LightPink orange lime GreenYellow yellow gold DodgerBlue aqua magenta DeepPink white".split(" ")[a>> 22&15];g.mwvct=a>>21&1;g.mwvci=a>>19&3;g.gap=a>>14&31;g.hq=a>>13&1;g.hqi="highres hd1080 hd720 large medium small tiny".split(" ")[a>>10&7];g.pause=a>>9&1;g.plist=a>>8&1;g.buf=a>>7&1;g.buf1=a>>6&1;g.loop=a>>5&1;g.hide=a>>4&1;g.ha=a>>3&1;g.anns=a>>2&1;g.pt=a>>1&1;g.pti=a&1;H=g.loop;if(c)d=g,ha(),ia(),ja(),c={id:680,opt:d},(b=document.querySelector(\'iframe[src*="widget/render/comments"]\'))&&b.contentWindow.postMessage(JSON.stringify(c),"*"),(c=l(e[0]))?c.style.setProperty("display",d.a0&&d.a4?"block": "none",f):d.a0&&d.a4&&ka();else if(!d){d=g;for(c=0;32>c;++c)e.push("watch7-"+Math.random().toString(16).slice(2));ha();ia();ja();d.wide&&document.cookie&&(document.cookie="wide=1; max-age=22592000; path=/; domain=youtube.com");Aa&&(V(1),Ba());window.addEventListener("load",Ca,!1)}}function V(a){if(document.embeds.length)for(var c=document.embeds,b=c.length,g,d=0;d<b;++d)g=c[d],"application/x-shockwave-flash"===g.type&&g.id&&-1<g.id.indexOf("player")&&!g.mafy?(g.mafy=!0,Da(g)):R=setTimeout(V,a,a+1); else R=setTimeout(V,a,a+1)}function Ba(){var a=HTMLMediaElement.prototype.canPlayType;HTMLMediaElement.prototype.canPlayType=function(){return x&&d.pt&&!d.pti?!1:a.apply(this,arguments)};var c=HTMLMediaElement.prototype.load;HTMLMediaElement.prototype.load=function(){if(h=l("movie_player")||document.querySelector(".html5-video-player"))h.style.setProperty("visibility","visible",f),la(),x&&setTimeout(W,0);c.apply(this,arguments);HTMLMediaElement.prototype.load=c};var b=HTMLMediaElement.prototype.play; HTMLMediaElement.prototype.play=function(){ma||Ea(this);b.apply(this,arguments)}}function Ea(a){ma=!0;h&&d.hq&&h.setPlaybackQuality(d.hqi);x?(D&&setTimeout(function(){h.pauseVideo();D=!1},0),y&&(clearTimeout(y),y=0),y=setTimeout(X,3E3)):d.pause&&setTimeout(function(){h.pauseVideo();D=!1},0);a.addEventListener("ended",Fa);d.anns&&p&&setTimeout(function(){var a=document.querySelectorAll(".html5-video-controls .ytp-menu .ytp-button");if(a&&0<a.length)for(var b=0,d=a.length;b<d;b++)"OFF"===a[b].textContent&& a[b].click()},2E3);R&&(tm=clearTimeout(R))}function Fa(a){H&&h.playVideo()}function Da(a){function c(){h.getPlayerState?(h.addEventListener("onStateChange","__680ps_"),la(),x&&(W(),y&&(clearTimeout(y),y=0),y=setTimeout(X,3E3))):setTimeout(c,50)}if(x&&d.pt&&d.pti)a.style.display="none";else if(h=a,x&&t)c();else if(d&&(d.hide||d.ha||d.hq||d.anns||d.pause||d.buf)){a.style.setProperty("visibility","hidden",f);a.style.setProperty("display","none",f);if(a.attributes&&a.attributes.flashvars){var b=Ga(a.attributes.flashvars.value); na(b);a.attributes.flashvars.value=Ha(b)}setTimeout(function(){a.removeAttribute("wmode");a.style.setProperty("display","block",f);a.style.setProperty("visibility","visible",f);c()},0)}else c()}function na(a){oa=a.list;d.ha&&(delete a.ad_module,delete a.ad2_module,delete a.ad3_module,delete a.ad_channel_code_instream,delete a.ad_channel_code_overlay,delete a.ad_device,delete a.ad_eurl,delete a.ad_flags,delete a.ad_host,delete a.ad_host_tier,delete a.ad_logging_flag,delete a.ad_preroll,delete a.ad_slots, delete a.ad_tag,delete a.ad_type,delete a.ad_video_pub_id,delete a.adsense_video_doc_id,delete a.aftv,delete a.afv,delete a.afv_ad_tag,delete a.afv_ad_tag_restricted_to_instream,delete a.afv_inslate_ad_tag,delete a.afv_instream_max,delete a.afv_video_min_cpm,delete a.allowed_ads,delete a.as_launched_in_country,delete a.baseUrl,delete a.dynamic_allocation_ad_tag,delete a.max_dynamic_allocation_ad_tag_length,delete a.max_ad_duration,delete a.prefetch_ad_live_stream,delete a.use_meta_ad_player);if(d.hq&& (a.vq=d.hqi,p)){var c="640x360 3840x2160 2560x1440 1920x1080 1280x720 854x480 426x240 256x144".split(" "),b="medium highres hd1440 hd1080 hd720 large medium small tiny".split(" ").indexOf(d.hqi);a.video_container_override=-1<b?c[b]:c[0]}d.hide&&(a.autohide=1);d.anns&&(a.iv_load_policy=3);d.buf?(a.autoplay=1,x&&delete a.dashmpd,a.tsp_buffer=569228273678,d.pause&&(D=!0)):d.pause&&(a.autoplay=0,p&&(a.is_html5_mobile_device=!0));oa&&d.plist&&(a.autoplay=1,D=!1,p&&(a.is_html5_mobile_device=!1))}function Y(a){if(a.currentTarget== h.parentElement||a.currentTarget.top){var c;if("mousewheel"==a.type)c=h.getVolume(),c=0>a.wheelDelta?c-d.gap:c+d.gap;else if(3==a.which){c=h.getVolume();if(0<a.webkitMovementX)c+=d.gap;else if(0>a.webkitMovementX)c-=d.gap;else return!0;Z=!0}else return!0;100<c?c=100:1>c&&(c=0);h.setVolume(c);if(d.mwvci){var b=document.getElementById("maVol5");b||(b=Ia());I!=d.mwvci&&(I=d.mwvci,z("onMagicVolume",{id:I}));1==I?(b.style.setProperty("top",h.offsetTop+h.scrollHeight-120+"px",f),b.style.setProperty("left", h.offsetLeft+h.offsetWidth/2-100+"px",f),b.style.setProperty("width","236px",f),b.style.setProperty("height","18px",f)):2==I&&(b.style.setProperty("top",h.offsetTop+12+"px",f),b.style.setProperty("left",h.offsetLeft+18+"px",f),b.style.setProperty("width","96px",f),b.style.setProperty("height","48px",f));z("onMagicVolume",{vol:parseInt(c),color:d.color});J?(clearTimeout(J),J=0):b.style.setProperty("display","block",f);J=setTimeout(function(){b.style.setProperty("display","none",f);clearTimeout(J); J=0},700)}a.preventDefault();a.stopPropagation()}else return!0}function pa(a){Z&&(Z=!1,a.stopPropagation(),a.preventDefault())}function la(){function a(a){h.parentElement[a]("mousemove",Y,!1);document[a]("contextmenu",pa,!1);if(p){var b=h.querySelector(".html5-video-container");if(b)b[a]("contextmenu",pa,!1)}}a("removeEventListener");h.parentElement.removeEventListener("mousewheel",Y,!1);d.mwvc&&(1==d.mwvct?a("addEventListener"):h.parentElement.addEventListener("mousewheel",Y,!1))}function Ia(){var a= document.createElement("iframe");a.id="maVol5";a.setAttribute("scrolling","no");a.setAttribute("frameborder",0);a.setAttribute("allowtransparency","true");a.style.setProperty("z-index",2147483648,f);a.style.setProperty("position","absolute",f);a.style.setProperty(" -webkit-user-select","none",f);a.style.setProperty("display","block",f);a.onload=function(){var a=this.contentDocument;a.open();a.write(\'<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><style type="text/css"> *{margin:0;padding:0;border:0;} body{font-family:Segoe UI,Helvetica,Arial,sans-serif}#txt{width:96px;height:48px;line-height:43px;font-size:48px;text-align:center;text-shadow:1px 1px 4px #000}#box{width:234px;height:16px;background-color:#000;border:solid 1px;cursor:default} #line{width:200px;height:16px;opacity:.75} #vol{width:34px;height:16px;position:absolute;top:0;right:2px;line-height:18px;font-size:14px;font-weight:700;text-align:center}</style><script type="text/javascript">window.parent.addEventListener("onMagicVolume",function(a){a=a.detail;var c=document.getElementById("box"),d=document.getElementById("vol"),e=document.getElementById("line"),b=document.getElementById("txt");1==a.id?(b.style.display="none",c.style.display="block"):2==a.id&&(c.style.display="none",b.style.display="block");b.textContent=d.textContent=a.vol;e.style.width=2*a.vol+"px";c.style.borderColor=e.style.backgroundColor=b.style.color=d.style.color=a.color},!1);document.addEventListener("contextmenu", function(e) { e.preventDefault(); }, !1);\x3c/script></head><body><div id="txt"></div><div id="box"><div id="line"></div><div id="vol"></div></div></body></html>\'); a.close();z("onMagicVolume",{id:I})};h.parentElement.appendChild(a);return a}function Ja(a){a.stopPropagation();h.showVideoInfo&&(h.info?(h.info=0,h.hideVideoInfo()):(h.info=1,h.showVideoInfo()))}function X(){var a=document.getElementById(e[14]);if(a&&(a.ev||(a.ev=1,a.addEventListener("click",Ja,!1)),h&&h.getVideoLoadedFraction)){var c=h.getVideoLoadedFraction(),c=0.99<c?100:parseInt(100*c);a.textContent=isNaN(c)?"":c+"%";100>c?y=setTimeout(X,3E3):d.buf&&d.buf1&&(new Audio(w+"notify.ogg")).play()}} function Ga(a){a=a.split(/&|=/);for(var c={},b=a[0]?0:1,d=a.length;b<d;b+=2)c[a[b]]=a[b+1];return c}function Ha(a){var c="",b;for(b in a)c+=b+"="+a[b]+"&";return c}function z(a,c){var b=document.createEvent("CustomEvent");b.initCustomEvent(a,!1,!1,c);window.dispatchEvent(b)}function ha(){var a=document.getElementById(e[17]),c=window.location.pathname;a||(a=document.createElement("style"),a.setAttribute("type","text/css"),a.id=e[17],document.documentElement.appendChild(a),sheet=a.sheet,sheet.disabled= d.align?!1:!0,x?(sheet.insertRule("@media screen and (min-width:1314px){body.site-left-aligned{width:1304px!important;margin:auto!important}}",0),sheet.insertRule("@media screen and (min-width:1550px) and (min-height:1040px){body.site-left-aligned #player.watch-large,body.site-left-aligned #page.watch#guide{margin-left:-170px!important}}",1),sheet.insertRule("@media screen and (min-width:1630px) and (min-height:1040px){body.site-left-aligned #player.watch-large,body.site-left-aligned #page.watch #guide{margin-left:-212px!important}} ", 2)):"/"==c||0==c.indexOf("/user/")||0==c.indexOf("/channel/")?sheet.insertRule("body.site-left-aligned{width:auto!important;max-width:1512px!important;margin:auto!important}",0):sheet.insertRule("@media screen and (min-width:1314px){body.site-left-aligned{width:1304px!important;margin:auto!important}}",0));a.sheet.disabled=d.align?!1:!0}function ia(){var a=document.getElementById(e[3]);a||(a=document.createElement("link"),a.setAttribute("rel","stylesheet"),a.id=e[3],document.documentElement.appendChild(a)); a.setAttribute("href",w+"themes/"+(d.ui?"night":"day")+"/theme.css?v=680")}function Ka(a){d.ui++;1<d.ui&&(d.ui=0);z(K,\'{"id":4,"name":"ui","value":\'+d.ui+"}")}function ka(){if(!l(e[0])){var a=document.createElement("div"),c=document.createElement("div");a.id=e[0];a.appendChild(c);document.body.appendChild(a);a.addEventListener("click",Ka,!1)}}function ja(){var a=l(e[1]),c=w+"themes/"+(d.ui?"night/":"day/");if(a){var b=a.sheet.cssRules;b[1].style.setProperty("opacity",d.ui,f);b[2].style.setProperty("border-bottom", "1px solid "+(d.ui?"#2e2e2e":"#e6e6e6"),f);b[2].style.setProperty("background",d.ui?"#101010":"#f1f1f1",f);for(a=0;9>a;++a)b[8+a].style.setProperty("background-image","url("+c+a+".png)",f);b[17].style.setProperty("background-image","url("+c+"5a.png)",f);b[18].style.setProperty("background-image","url("+c+"6a.png)",f);b[19].style.setProperty("color",d.ui?"#eee":"#111",f);b[20].style.setProperty("display",d.h0&&d.h1?"none":"",f);b[21].style.setProperty("display",d.h0&&d.h2?"none":"",f);b[22].style.setProperty("display", d.h0&&d.h3?"none":"",f);b[23].style.setProperty("display",d.h0&&d.h3?"none":"",f);b[24].style.setProperty("display",d.h0&&d.h4?"none":"",f);b[25].style.setProperty("display",d.h0&&d.h5?"none":"",f);b[26].style.setProperty("display",d.h0&&d.h6?"none":"",f);b[27].style.setProperty("display",d.hide?"bottom:0px":"",f);b[28].style.setProperty("display",d.hide?"none":"",f);b[29].style.setProperty("display","block",f)}else{a=document.createElement("style");a.setAttribute("type","text/css");a.id=e[1];document.documentElement.appendChild(a); b=a.sheet;a="#"+e[0];b.insertRule(a+"{display:block!important;position:absolute;z-index:2147483646;left:3px;top:7px;width:14px !important;height:34px;background:url("+w+"i/sw.png);overflow:hidden}",0);b.insertRule(a+" div{opacity:"+d.ui+";width:14px;height:34px;background:url("+w+"i/sw.png) -14px 0;-webkit-transition:opacity .4s;transition:opacity .4s}",1);a="#"+e[2];b.insertRule(a+"{display:block!important;z-index:2147483646;margin-top:-33px;background:"+(d.ui?"#101010":"#f1f1f1")+";position:relative;opacity:.8;width:638px;height:32px;border-bottom:1px solid "+ (d.ui?"#2e2e2e":"#e6e6e6")+";transition:opacity .3s}",2);b.insertRule(d.pt&&!d.pti?".ytp-error{display:none!important}":"q{}",3);b.insertRule("#progress{display:none!important}",4);a="."+e[4];b.insertRule(a+"{display:block!important;float:left;width:50px;height:32px;line-height:32px;background-repeat:no-repeat;background-position:50% 50%;cursor:pointer;-webkit-user-select:none;transition:.3s}",5);b.insertRule(a+":hover{box-shadow:inset 0 1px 0 rgba(255,255,255,.2),inset 0 -5px 20px rgba(255,0,0,.2),inset 0 0 0 1px rgba(120,33,33,.2);transition:0s}", 6);b.insertRule("#"+e[15]+"{position:absolute;right:0;top:5px;height:20px;width:90px;overflow:hidden}",7);for(a=0;9>a;++a)b.insertRule("#"+e[5+a]+"{background-image:url("+c+a+".png)}",8+a);b.insertRule("#"+e[10]+"[on]{background-image:url("+c+"5a.png)}",17);b.insertRule("#"+e[11]+"[on]{background-image:url("+c+"6a.png)}",18);b.insertRule("#"+e[14]+"{font-weight:bold;margin-left:7px;padding:0 4px;width:auto;color:#"+(d.ui?"eee":"111")+"cursor:pointer}",19);b.insertRule("#yt-masthead-container{"+(d.h0&& d.h1?"display:none!important}":"}"),20);b.insertRule("#watch7-sidebar{"+(d.h0&&d.h2?"display:none!important}":"}"),21);b.insertRule("#watch7-secondary-actions{"+(d.h0&&d.h3?"display:none!important}":"}"),22);b.insertRule("#watch7-action-panels{"+(d.h0&&d.h3?"display:none!important}":"}"),23);b.insertRule("#watch-discussion{"+(d.h0&&d.h4?"display:none!important}":"}"),24);b.insertRule("#guide{"+(d.h0&&d.h5?"display:none!important}":"}"),25);b.insertRule("#footer-container{"+(d.h0&&d.h6?"display:none!important}": "}"),26);b.insertRule(".html5-video-container{"+(d.hide?"bottom:0px!important}":"}"),27);b.insertRule(".html5-video-controls{"+(d.hide?"display:none!important}":"}"),28);b.insertRule("#movie_player:hover .html5-video-controls{display:block!important}",29)}}function Ca(){if(x&&d.h0&&d.h4)var a=l("watch-discussion");a&&(a.parentElement.removeChild(a),delete null);La();Ma();d.a0&&d.a4&&ka()}function W(a){"complete"!=document.readyState?setTimeout(W,500):h&&h.parentElement&&(p="div"===h.localName?1:0, v=h.parentElement,L=h.parentElement.parentElement,d.hide&&(v.classList.add("magic-autohide"),(a=l("watch7-playlist-tray-container"))&&a.classList.add("magic-autohide2")),v.style.setProperty("box-shadow","none",f),Na(),d.cin&&(d.cina&&$(),L.addEventListener("click",function(a){a.target==L&&(a.stopPropagation(),N=!1,$(a))},!1)),setTimeout(qa,1E3,1))}function Oa(a){this.getAttribute("data-ma")?this.removeAttribute("data-ma"):d.loop&&(H=d.loop=!1,(a=l(e[10]))&&a.removeAttribute("on"))}function qa(a){if(d.loop){var c= l("watch7-playlist-bar-autoplay-button");c&&(c.classList.contains("yt-uix-button-toggled")&&(c.setAttribute("data-ma",!0),c.click()),a&&c.addEventListener("click",Oa,!1))}}function aa(a){var c=a?r:"none";if(a=h.parentElement)a=a.firstElementChild;a&&a!=h&&a.style.setProperty("display",c,f);(a=l("watch-video-extra"))&&a.style.setProperty("display",c,f)}function Pa(a){ra("GET",w+"colors.json?v="+(new Date).getTime(),null,"responseText",function(c){a.colors=c;a.custom=d.cins;ba(0,d.cinc)})}function sa(a){a.preventDefault(); a.stopPropagation();a=l(e[24]);var c=a.offsetLeft;visible_width=a.parentElement.offsetWidth;step=this.left?visible_width-36:-visible_width-36;max=a.scrollWidth-visible_width;c-=step;c<-max&&(c=-max);0<c&&(c=0);a.style.setProperty("margin-left",c+"px",f)}function ba(a,c){a&&a.stopPropagation();var b=l(e[21]);if(b)if(99==c)b.style.setProperty("background",b.custom,f),b.ind=99;else{var d=a?parseInt(this.ind):c,m=b.colors;try{m=JSON.parse(m)}catch(n){return}d>=m.items.length&&(d=0);b.ind=d;k(b,m.items[d].cinema, 1);k(v,m.items[d].movie,1)}}function Qa(a){a.stopPropagation();a=l(e[21]);var c=l(e[25]);a.custom=a.custom?a.custom:"linear-gradient(skyblue,yellow)";a.ind=99;c.style.setProperty("display","block",f);c.firstElementChild.value=a.custom;v.style.setProperty("box-shadow","none",f);a.style.setProperty("background",a.custom,f)}function ca(a){a.stopPropagation();a=l(e[21]);var c=a.style.getPropertyValue("background"),b;a.style.setProperty("background",this.value,f);b=a.style.getPropertyValue("background"); c!=b&&(a.custom=b)}function ta(a){a.preventDefault();a.stopPropagation();a=l(e[21]);var c=l(e[22]);if(c)0<c.offsetHeight?(l(e[25]).style.setProperty("display","none",f),c.style.setProperty("display","none",f),99==a.ind&&z(K,JSON.stringify({id:4,name:"cins",value:a.custom})),z(K,JSON.stringify({id:4,name:"cinc",value:parseInt(a.ind)}))):c.style.setProperty("display","block",f);else{var b=a.colors;try{b=JSON.parse(b)}catch(d){return}c=document.createElement("div");c.id=e[22];k(c,["position","absolute", "top",0,"left",0,"width","100%","height","36px","line-height","36px","overflow","hidden"],1);c.addEventListener("click",function(a){a.preventDefault();a.stopPropagation()},!1);var m,n,h,s;m=document.createElement("button");m.textContent="MAGIC";k(m,["position","absolute","top",0,"left",0,"width","95px","height","36px","background","red","color","#eee","padding","0 7px"],1);c.appendChild(m);m=document.createElement("button");m.title="Set your own CSS background";k(m,["position","absolute","top",0, "left","95px","width","36px","height","36px","background","#CCC url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAEVJREFUOE9jAIL/FGKG/5KK/7FiBwcHsKL/2i+x4lEDqGkAhZgBbBM2DFOETQ6E4QYw/JfFimGK/t/FjkcNoKoBZGOG/wBEVfKgWsYg4QAAAABJRU5ErkJggg==) center center no-repeat"],1);c.appendChild(m);m.addEventListener("click",Qa,!1);m=document.createElement("div");m.id=e[23]; k(m,["display","block","position","absolute","top",0,"left","131px","right","72px"],1);c.appendChild(m);n=document.createElement("button");n.textContent="<";n.left=1;k(n,["position","absolute","top",0,"left",0,"width","36px","height","36px","background","#333","color","#eee"],1);m.appendChild(n);n.addEventListener("click",sa,!1);n=document.createElement("div");k(n,["position","absolute","top",0,"left","36px","right","36px","height","36px","background","gray","overflow","hidden"],1);m.appendChild(n); h=document.createElement("div");h.id=e[24];k(h,["width",36*b.items.length+"px","transition","margin-left .3s"],1);n.appendChild(h);for(var O=0,r=b.items.length;O<r;O++)s=b.items[O],n=document.createElement("button"),n.title=O+1+". "+s.title,n.ind=O,k(n,s.preview,1),k(n,"float left width 30px height 30px margin 3px border-radius 2px".split(" "),1),h.appendChild(n),n.addEventListener("click",ba,!1);n=document.createElement("button");n.textContent=">";k(n,["position","absolute","top",0,"right",0,"width", "36px","height","36px","background","#333","color","#eee"],1);m.appendChild(n);n.addEventListener("click",sa,!1);m=document.createElement("div");m.id=e[25];k(m,["display","none","position","absolute","top",0,"left","95px","right","72px","height","36px","background","#777"],1);c.appendChild(m);n=document.createElement("input");n.type="text";k(n,"position;absolute;top;4px;left;12px;right;12px;height;24px;padding;0 12px;font;16px Segoe UI,Frutiger,Tahoma,Helvetica,Helvetica Neue,Arial,sans-serif".split(";"), 1);m.appendChild(n);n.addEventListener("keyup",ca,!1);n.addEventListener("paste",ca,!1);n.addEventListener("cut",ca,!1);m=document.createElement("button");m.textContent="OK";k(m,["position","absolute","top",0,"right",0,"width","72px","height","36px","background","red","color","#eee"],1);c.appendChild(m);m.addEventListener("click",ta,!1);a.appendChild(c)}}function T(a,c){var b=document.createElement("a"),d=l(e[16]);d&&(da(b,["href",a,"target","_blank","role","button","aria-pressed","false"]),k(b,"display inline-block width 48px height 32px".split(" "), 1),b.addEventListener("click",c?c:function(a){a.stopPropagation()},!1),d.appendChild(b))}function ua(a){a.stopPropagation();a.preventDefault();d.cinf&&!document.webkitIsFullScreen&&(document.removeEventListener("webkitfullscreenchange",ua,!1),U())}function U(){if(!p&&d.cinf&&document.webkitIsFullScreen)document.webkitCancelFullScreen();else{var a,c=l(e[21]);window.scrollTo(0,0);aa(1);(a=l(e[25]))&&a.style.setProperty("display","none",f);(a=l(e[22]))&&a.style.setProperty("display","none",f);k(v,["z-index", r,"position",r,"left",r,"top",r,"height",r,"width",r],1);v.style.setProperty("box-shadow","none",f);L.style.setProperty("height",r);L.style.setProperty("padding-left",r);if(a=l("page-container")){a.style.setProperty("z-index",r);do(a=a.previousElementSibling)&&a.style.setProperty("display",r);while(a)}ea(["alerts","gb","guide","yt-hitchhiker-feedback","yt-uix-clickcard-card1","player-branded-banner","watch7-creator-bar",e[0]],"display",r);(a=l("watch7-sidebar"))&&a.style.setProperty("margin-top", r);c.style.setProperty("display","none",f);N=!1}}function $(a){a&&(a.preventDefault(),a.stopPropagation());if(!E)if(N)U();else{aa(0);window.scrollTo(0,0);var c,b;h.style.setProperty("box-shadow","none",f);ea(["alerts","gb","guide","yt-hitchhiker-feedback","yt-uix-clickcard-card1","watch7-creator-bar",e[0]],"display","none");if(b=l("page-container")){b.style.setProperty("z-index","auto",f);do(b=b.previousElementSibling)&&b.style.setProperty("display","none",f);while(b)}(b=l("watch7-sidebar"))&&b.style.setProperty("margin-top", 0,f);var g,m,n;g=d.cini;g=1==g?0.3:0==g?0.4:0.2;!p&&d.cinf?(c=screen.width-20,b=screen.height):(c=window.innerWidth-20,b=window.innerHeight);c>b?(m=b-parseInt(b*g),g=parseInt(1920*m/1080)):(g=c-parseInt(c*(g-0.1)),m=parseInt(1080*g/1920));d.hide||(m+=30);n=parseInt((b-m)/2);50>n&&(n=50);k(l("page"),["-webkit-transition","none","transition","none"],1);k(L,["-webkit-transition","none","transition","none","height",b+"px","padding-left",0],1);k(v,["top",n+"px","width",g+"px","height",m+"px","z-index", 2147483648,"position","absolute"],1);c=d.align?parseInt((l("page").offsetWidth-g)/2)+"px":parseInt((c-g)/2)+"px";v.style.setProperty("left",c);p&&va();(c=l(e[21]))?ba(0,d.cinc):(c=document.createElement("div"),c.id=e[21],k(c,["z-index",2147483648,"position","absolute","top",0,"left",0,"right",0,"bottom",0],1),document.body.insertBefore(c,document.body.firstElementChild),Pa(c),c.addEventListener("click",U,!1),l(e[16])||(b=document.createElement("div"),b.id=e[16],k(b,["position","absolute","top","4px", "right","8px","background-image","url("+w+"i/btns.png)","width","192px","height","32px","overflow","hidden"],1),c.appendChild(b),T("http://www.chromeactions.com/"),T("http://www.chromeactions.com/magic-actions-for-youtube-chrome-app.html"),T("#",wa),T("#",ta)));c.style.setProperty("display","block",f);d.cinf&&a&&!p&&document.documentElement.webkitRequestFullScreen&&(document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT),document.addEventListener("webkitfullscreenchange",ua, !1));N=!0}}function va(){var a=document.querySelector(".html5-video-content");a&&(a.style.setProperty("width","100%",f),a.style.setProperty("height","100%",f));if(a=h.querySelector("video"))a.style.setProperty("width","100%",f),a.style.setProperty("height","100%",f)}function xa(a){a.stopPropagation();var c,b,d,m,n,h,s=l(e[20]);s||(s=document.createElement("iframe"),da(s,["id",e[20],"scrolling","no","frameborder",0]),k(s,["display","block","z-index",2147483648,"bottom","17px","right","10px","width", "22px","height","17px","position","fixed","background","url("+w+"i/col.png)"],1),document.body.appendChild(s),s.contentWindow.addEventListener("click",xa,!1));E?(h=m=n=d=a=c=b=pos=r,s.style.setProperty("display","none",f),E=!1):(a.preventDefault(),N&&U(),window.scrollTo(0,0),a=window.innerWidth+"px",c=document.body.offsetHeight+26+"px",n=m=0,d=2147483648,pos="fixed",b="none",h="hidden",s.style.setProperty("display","block",f),E=!0);ea(["footer","yt-hitchhiker-feedback","watch7-main-container","masthead-positioner"], "display",b,E);k(v,["left",m,"top",n,"z-index",d,"position",pos,"width",a,"height",c],E);document.body.style.setProperty("overflow",h);aa(!E);p&&va()}function Ra(a){a.preventDefault();a.stopPropagation();(H=!H)?this.setAttribute("on",r):this.removeAttribute("on");qa()}function Sa(a){a.stopPropagation();z(K,\'{"id":7}\')}function Ta(a){a.preventDefault();a.stopPropagation();a=p?document.getElementsByTagName("video")[0]:h;var c=";contrast(125%) brightness(125%);grayscale(20%) contrast(150%) brightness(150%);grayscale(1);sepia(1);invert(1);rotateY(180deg);rotateX(180deg)".split(";"); F++;7<F&&(F=0);5<F?(a.style.setProperty("-webkit-filter","",f),a.style.setProperty("-webkit-transform",c[F],f)):(a.style.setProperty("-webkit-transform","",f),a.style.setProperty("-webkit-filter",c[F],f));this.title="Apply Filter;High Contrast;S-High Contrast;Grayscale;Sepia;Invert;H-Flip;V-Flip".split(";")[F]}function wa(a){a.preventDefault();a.stopPropagation();var c=ya(h);a=window.devicePixelRatio;var b=c[0]*a-window.pageXOffset,c=c[1]*a-window.pageYOffset,d=h.scrollWidth*a,f=h.scrollHeight*a, n=document.documentElement.offsetWidth*a,e;e=(e=document.body.querySelector(\'meta[itemprop="videoId"]\'))?e.getAttribute("content"):0;var s,k=l("eow-reuse");k&&(s=k.textContent);f-=40*a;0>c&&(f+=c,c=0);0>b&&(d+=b,b=0);b+d>n&&(d=n-b);z(K,JSON.stringify({id:6,v:[b,c,d,f,e,s,encodeURIComponent(document.title)]}))}function Ua(a){a.stopPropagation();a.preventDefault();var c;a=this.maSh;1==a?c="https://chrome.google.com/webstore/detail/abjcfabbhafbcdfjoecdgepllmpfceif/reviews":2==a&&(c="http://youtube.com/subscription_center?add_user=StrukoffBrothers"); z(K,\'{"id":2,"url":"\'+c+\'"}\')}function Na(){var a=l(e[2]);if(!a){var c=l("watch7-main"),b;(a=navigator.mimeTypes["application/x-shockwave-flash"])&&(a=a?a.enabledPlugin.filename:null);b="pepflashplayer.dll"==a||"PepperFlashPlayer.plugin"==a||"libpepflashplayer.so"==a;if(c){a=document.createElement("div");a.id=e[2];A(a,e[5],e[4],0,0,0,0,"http://www.chromeactions.com/");A(a,e[6],e[4],0,Ua,2);A(a,e[7],e[4],"Magic Options",Sa);d.cin&&A(a,e[8],e[4],"Cinema Mode",$);A(a,e[9],e[4],"Expand",xa);A(a,e[10], e[4],"Repeat",Ra,0,d.loop?"on":0);if(p||b)A(a,e[12],e[4],"Capture",wa),d.f0&&A(a,e[13],e[4],"Apply Filter",Ta);A(a,e[14],e[4],"Click to show/hide video info");c.style.setProperty("padding-top","33px",f);c.insertBefore(a,c.firstElementChild)}}}function A(a,c,b,d,f,e,h,l){var k=document.createElement(l?"a":"div");k.id=c;b&&(k.className=b);d&&(k.title="");h&&k.setAttribute(h,r);e&&(k.maSh=e);a.appendChild(k);l?(k.href=l,k.target="_blank"):f&&k.addEventListener("click",f,!1)}function Ma(){P&&(clearTimeout(P), P=0);(function c(){if(d&&d.a0&&d.a2){for(var b=document.images,g,f=0,e=b.length;f<e;f++)g=b[f],g.prc||(g.prc=1,g.addEventListener("mouseover",Va,!1),g.addEventListener("mouseout",Wa,!1));P=setTimeout(c,1E4)}else P=setTimeout(c,15E3)})()}function Va(a){G&&(clearTimeout(G),G=0);var c=this,b=ya(c),d=b[0],e=b[1],n=this.offsetWidth,h=this.offsetHeight;G=setTimeout(function(){var a="center",b,l,S=256,M=256,p,B,C=window.scrollY,q=c.getAttribute("data-thumb");q||(q=c.src);q=q.split("/");if(-1<q[5].indexOf("default."))q[5]= "hq"+q[5].match(/default\\.jpg|default\\.webp/),S=480,M=270,a="-45px";else if("i"==q[3])q[5]="hq1.jpg";else if(9==q.length)q[7]="s200-c-k";else return;n==h&&(M=S=256,a="center");d<window.innerWidth/2?(b=d+n+32,p="magic-tip-left"):(b=d-S-32,p="magic-tip-right");l=e-parseInt((M-h)/2)-5;B=parseInt(M/2);l<C&&(B-=C-l,l=C);0>B&&(B=5);q=q.join("/");B+="px";a="url("+q+") center "+a+"/100% auto no-repeat";u?(q=u.firstElementChild,C=u.lastElementChild,B&&q.style.setProperty("top",B,f)):(u=document.createElement("div"), q=document.createElement("div"),C=document.createElement("iframe"),u.className="magic-tip",da(C,["scrolling","no","frameborder",0]),u.appendChild(q),u.appendChild(C),document.body.appendChild(u));k(u,["top",l+"px","left",b+"px","height",M+"px"],1);k(C,["width",S+"px","height",M+"px","background",a,"display","block"],1);p?(q.style.setProperty("display",r),q.className=p):q.style.setProperty("display","none",f);u.style.setProperty("display","block",f)},500);a.stopPropagation()}function Wa(a){G&&(clearTimeout(G), G=0);u&&u.style.setProperty("display","none",f)}function La(){Q&&(clearTimeout(Q),Q=0);(function c(){if(d&&d.a0&&d.a1){for(var b=document.getElementsByClassName("yt-thumb-default"),g,e,h=[],l,k=0,p=b.length;k<p;k++)g=b[k],l=0,100>g.offsetWidth&&(g.prc=2),g.prc||(e=g.getElementsByTagName("img"),0<e.length&&(e=e[0],l=e.getAttribute("data-thumb"),l||(l=e.src),l=l.split("/")[4],g.prc=1)),h.push(l);Xa(h,"videos",0,function(d){if(d)for(var e=0,m=h.length,l=0;e<m;e++){g=b[e];if(1==g.prc&&h[e]){var k=d[l], p=g.parentElement,q=k.status&&k.status.code;e_div=document.createElement("div");e_div.className="magic-ratings";if("200"==q)if(k.accessControl3&&"allowed"==k.accessControl3.permission){e_div.style.setProperty("background-color","#CCC",f);var q=k.rating&&k.rating.average||0,s=k.rating1&&k.rating1.numLikes||0,t=k.rating&&k.rating.numRaters||0,k=k.comments&&k.comments.feedLink&&k.comments.feedLink.countHint||0,u=document.createElement("div");u.className="magic-likes";q?(s=s?(100*s/t).toFixed(1):0,u.style.setProperty("width", s*g.offsetWidth/100+"px",f),p.title=(s?s+"% of likes from "+t+" votes":r)+(q?"\\n"+parseFloat(q).toFixed(4)+" points out of 5":r)+(k?"\\n"+k+" comments":r)):(u.style.setProperty("width",g.offsetWidth/2+"px",f),p.title="Likes: 0\\nDislikes: 0");e_div.appendChild(u)}else e_div.style.setProperty("background-color","#FFCCCC",f),p.title="Rating is not allowed for this video";else e_div.style.setProperty("background-color","#D42",f),t=k.status&&k.status.reason,p.title="Could\'t retrieve ratings info. YouTube server response: "+ (q?q:"---")+" "+(t?t:" unknown");p.appendChild(e_div);l++}g.prc=2}Q=setTimeout(c,12E3)})}else Q=setTimeout(c,15E3)})()}function Xa(a,c,b,d){function f(a,b){for(var c,d,g,e=0,h=a.childNodes.length;e<h;e++)if(c=a.childNodes[e],3==c.nodeType)b.t=c.textContent;else if(1==c.nodeType){d=c.localName;if(b[d]){for(g=1;b[d+g];)g++;d+=g}b[d]={};if(c.attributes)for(var k=0,l=c.attributes.length;k<l;k++)g=c.attributes[k],b[d][g.localName]=g.nodeValue;c.childNodes&&f(c,b[d])}}c="//gdata.youtube.com/feeds/api/"+ c+"/";for(var e=\'<feed xmlns="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/" xmlns:batch="http://schemas.google.com/gdata/batch" xmlns:yt="http://gdata.youtube.com/schemas/2007"><batch:operation type="query"/>\',h=0,k=0,l=a.length;k<l;++k)a[k]&&(e+="<entry><id>"+c+a[k]+"</id></entry>",h++);1>h?d(0):(c+="batch?v=2",b&&(c+="&fields="+b),ra("POST",c,e+"</feed>","responseXML",function(a){var b=[];if(a){a=a.getElementsByTagName("entry");for(var c=0,e=a.length;c<e;c++)item={},b.push(item), f(a[c],item);d(b)}else d(0)}))}function ra(a,c,b,d,e){var f=new XMLHttpRequest;f.onload=function(a){200==this.status?e(this[d]):e()};f.onerror=e;f.onabort=e;f.open(a,c,!0);f.send(b)}function l(a){return document.getElementById(a)}function ya(a){if(!a||void 0==a)return[0,0];var c=0,b=0;if(a.offsetParent){do c+=a.offsetLeft,b+=a.offsetTop;while(a=a.offsetParent)}return[c,b]}function da(a,c){for(var b=0,d=c.length;b<d;b+=2)a.setAttribute(c[b],c[b+1])}function k(a,c,b){if(a){var d=0,e=c.length;for(b= b?f:null;d<e;d+=2)a.style.setProperty(c[d],c[d+1],b)}}function ea(a,c,b,d){for(var e,h=0,k=a.length;h<k;h++)(e=l(a[h]))&&e.style.setProperty(c,b,d?f:r)}var fa={};Object.defineProperty(window,"ytspf",{get:function(){fa.enabled=!1;return fa},set:function(a){fa=a}});var d,w,K="'+uniqueEvtName+
'",p,ma,za,h,H,oa,D,I,Z,J,y,R,t,v,L,u,G,P,N,E,Q,r="",F=0,e=[],f="important",x="/watch"==window.location.pathname,Aa=window.location.pathname.match(/\\/watch|\\/user|\\/channel|\\/channels/);window.sessionStorage&&window.sessionStorage.mafy&& ga(window.sessionStorage.mafy);window.addEventListener("mafy",function(a){ga(a.detail)},!1);Object.defineProperty(window,"ytplayer",{get:function(){d&&t&&t.config&&t.config.args&&(za||(za=!0,p=t.config.html5,d.pt&&(d.pti&&!p?(p=t.config.html5=!0,delete t.config.args.ad_module,delete t.config.args.ad3_module):!d.pti&&p&&(p=t.config.html5=!1))),na(t.config.args));return t},set:function(a){t=a},configurable:!0,enumerable:!0});window.__680ps_=function(a){1==a&&D?(D=!1,h.pauseVideo()):0==a&&H&&setTimeout(function(){h.seekTo(0); h.playVideo(0)},0)}})();';
document.documentElement.appendChild(e_script);document.documentElement.removeChild(e_script);window.addEventListener(uniqueEvtName,function(a){(a=JSON.parse(a.detail))&&a.id&&chrome.runtime.sendMessage(JSON.stringify(a))},!1);
